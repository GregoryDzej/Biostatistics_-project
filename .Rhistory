gender_dummy_0_F_1_M<-dummy_cols(project$sex)
View(project)
boxplot(project$smoker~project$bmi)
boxplot(project$smoker~project$bmi)
boxplot(project$smoker)
boxplot(project$smoker)
?str
boxplot(underweight)
table(project$region)
boxplot(underweight~normalweight)
boxplot(underweight, normalweight)
boxplot(underweight~smoker == "no")
boxplot(underweight~smoker == "no")
boxplot(underweight, smoker == "no")
View(project)
boxplot(underweight, smoker == "yes")
boxplot(underweight, smoker == "yes")
boxplot(underweight, smoker == "no")
boxplot(underweight, smoker == "no")
hist(underweight)
qqnorm(underweight)
qqplot(underweight)
?qqplot
qqplot(underweight)
qqline(underweight)
library(psych)
library(fastDummies)
summary(project)
install.packages("tidyverse")
library(tidyverse)
library(tidyverse)
library(tidyverse)
install.packages("tidyverse")
library(tidyverse)
install.packages("tidyverse")
library(tidyverse)
library("ggplot2", lib.loc="~/R/win-library/3.4")
View(project)
ggplot(data=project) +
geom_point(mapping = aes(x=project$bmi, y=project$charges))
ggplot(data=project) +
geom_point(mapping = aes(x=project$bmi, y=project$charges, color = BMIth))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, color = default))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges,))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, color = blues9))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, color = blue))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, color = "blue"))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, color = virdis))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, color = "viridis"))
ggplot(data=project) +
geom_point(mapping = aes(x=project$bmi, y=project$charges, color = BMIth,
size = project$age))
ggplot(data=project) +
geom_point(mapping = aes(x=project$bmi, y=project$charges, color = BMIth))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, color = cyl))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, color = 'darkblue'))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, fill='#A4A4A4, 'color = 'darkblue'))
ggplot(project, aes(x=project$age, y=project$charges) +
geom_point(fill='#A4A4A4, 'color = 'darkblue'))
geom_point(fill='#A4A4A4, color ='darkblue'))
geom_point(fill='#A4A4A4, color ='darkblue')
ggplot(project, aes(x=project$age, y=project$charges) +
geom_point(fill='#A4A4A4', color ='darkblue'))
ggplot(project, aes(x=project$age, y=project$charges) +
geom_point(fill='#A4A4A4', color ='darkblue'))
ggplot(project, aes(x=project$age, y=project$charges) +
geom_point(color ='darkblue'))
ggplot(project, aes(x=project$age, y=project$charges) +
geom_point(color ='#FF1234'))
geom_point(mapping = aes(x=project$age, y=project$charges, color = #FF1234))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, color = "#FF1234"))
cbPalette <- c("#999999", "#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
cbPalette <- c("#999999", "#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, color = cbPalette ))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, color = cbPalette ))
ggplot(data=project) +
geom_point(mapping = aes(x=project$age, y=project$charges, fill ="grey", color = cbPalette ))
ggplot(data=project) +
geom_point(mapping = aes(x=age, y=charges, fill ="grey", color = cbPalette ))
ggplot(data=project) +
geom_point(mapping = aes(x=age, y=charges, fill ="grey"))
ggplot(data=project) +
geom_point(mapping = aes(x=age, y=charges, fill = cbPalette))
cbPalette
plot(cbPalette)
ggplot(data=project) +
geom_point(mapping = aes(x=age, y=charges ))
ggplot(data=project) +
geom_line(mapping = aes(x=age, y=charges ))
ggplot(data=project, mapping = aes(x=age, y=charges ))+
geom_smooth()
geom_point()
ggplot(data=project, mapping = aes(x=project$age, y=project$charges ))+
geom_smooth()+
geom_point()
ggplot(data=project, mapping = aes(x=project$age, y=project$charges ))+
geom_smooth()+
geom_point()
ggplot(data=project, mapping = aes(x=project$age, y=project$charges))+
geom_smooth()+
geom_point(alpha=1/5)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1/5)
ggplot(data=project) +
geom_point(mapping = aes(x=project$bmi, y=project$charges, color = BMIth))+
geom_abline()
ggplot(data=project) +
geom_point(mapping = aes(x=project$bmi, y=project$charges, color = BMIth))+
geom_smooth()
ggplot(data=project) +
geom_point(mapping = aes(x=project$bmi, y=project$charges, color = BMIth))+
geom_smooth()
ggplot(data=project) +
geom_point(mapping = aes(x=project$bmi, y=project$charges, color = BMIth))+
geom_smooth()
ggplot(data=project) +
geom_smooth()+
geom_point(mapping = aes(x=project$bmi, y=project$charges, color = BMIth))
ggplot(data=project) +
geom_smooth()+
geom_point(mapping = aes(x=bmi, y=charges, color = BMIth))
ggplot(data=project) +
geom_point(mapping = aes(x=bmi, y=charges, color = BMIth))
ggplot(data=project) +
geom_smooth()+
geom_point(mapping = aes(x=bmi, y=charges, color = BMIth))
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
ggplot(data=project,mapping = aes(x=bmi, y=charges))+
geom_smooth()+
geom_point(color = BMIth)
ggplot(data=project,mapping = aes(x=bmi, y=charges))+
geom_smooth()+
geom_point(color = BMIth)
ggplot(data=project) +
geom_point(mapping = aes(x=bmi, y=charges, color = BMIth))
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1/5)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_point(alpha=1/5)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1/5)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1/5, size = age)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1/5, size = project$age)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1, size = project$age)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1/10000, size = project$age)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1/100, size = project$age)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1/10, size = project$age)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1/50, size = project$age)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1/50)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1)
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1/3)
mean(project$age)
describe.by(project$charges,project$age)
describe.by(project$charges~project$age)
describeBy(project$charges~project$age)
describeBy(project$charges,project$age)
library(psych)
tapply(project$charges,project$age,psych::describe)
abline(lm(project$charges ~ project$age), col = "green")
library(QuantPsyc)
abline(lm(project$charges ~ project$age), col = "green")
library(tidyverse) #cannot install it ?
install.packages("tidyverse")
install.packages("tidyverse")
library(tidyverse) #cannot install it ?
library("ggplot2", lib.loc="~/R/win-library/3.4")
ggplot(data=project) +
geom_point(mapping = aes(x=bmi, y=charges, color = BMIth))
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_smooth()+
geom_point(alpha=1/3)
?geom_smooth
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_point(alpha=1/3)
ggplot(data=project) +
geom_point(mapping = aes(x=bmi, y=charges, color = BMIth))
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_point(alpha=1/3)
ggplot(data=project)+
geom_point(mapping = aes(x=BMIth == "obese", y=charges))
ggplot(data=project)+
geom_point(mapping = aes(x=BMIth = "obese", y=charges))
ggplot(data=project)+
geom_point(mapping = aes(x=BMIth == "obese", y=charges))+
geom_point(alpha=1/10)
ggplot(data=project)+
geom_point(mapping = aes(x=BMIth == "obese", y=charges))+
geom_point(alpha=1/10)
ggplot(data=project)+
geom_point(mapping = aes(x=BMIth == "obese", y=charges))+
geom_point(alpha=1/5)
ggplot(data=project)+
geom_point(mapping = aes(x=BMIth == "obese", y=charges))
ggplot(data=project)+
geom_point(mapping = aes(x=bmi== "obese", y=charges))
ggplot(data=project)+
geom_point(mapping = aes(x=project$bmi== "obese", y=charges))
ggplot(data=project)+
geom_point(mapping = aes(x=BMIth == "obese", y=charges))
ggplot(data=project)+
geom_point(mapping = aes(x=BMIth == "obese", y=charges, na.rm = FALSE))
plot(BMIth == "obese", project$charges)
plot(BMIth == "obese", project$charges, na.exclude(FALSE))
plot(BMIth == "obese", project$charges, na.exclude( x = 0))
plot(BMIth == "obese", project$charges, na.rm = TRUE))
table(oht$Stroke_TIA_0no_1yes,oht$ONEy_Mortalityupdate)
round(prop.table(table(oht$ONEyW_Mortalityupdate,oht$Stroke_TIA_0no_1yes),1),2)
#people who had not the stroke = 25 / 97  = 0,257 = odds ratio
#people who had stroke  12/9 =  1,33 = odds ratio
# people who had stroke has a 5,17 greater chance to die
#insead those who had not within 1 year.
lrMod<-glm(oht$ONEy_Mortalityupdate~oht$Stroke_TIA_0no_1yes, )
summary(lrMod)
#AIC = it is to the measure to compare coeficenty which model is better once the predictor
#is being added
exp(coef(lrMod))
#use double slash
oht<-readxl::read_xlsx("D:\\Studia\\Magisterskie_HEBDA\\Biostatistics\\OHT_Data.xlsx")
library(readxl)
install.packages("readxl")
install.packages("readxl")
library(readxl)
#use double slash
oht<-readxl::read_xlsx("D:\\Studia\\Magisterskie_HEBDA\\Biostatistics\\OHT_Data.xlsx")
names(oht)
setwd("D:\\Studia\\Magisterskie_HEBDA\\Biostatistics")
library(readxl)
#use double slash
oht<-readxl::read_xlsx("D:\\Studia\\Magisterskie_HEBDA\\Biostatistics\\OHT_Data.xlsx")
#use double slash
oht<-readxl::read_xlsx("D:\\Studia\\Magisterskie_HEBDA\\Biostatistics\\OHT_Data.xlsx")
install.packages("readxl")
install.packages("readxl")
library(readxl)
#use double slash
oht<-readxl::read_xlsx("D:\\Studia\\Magisterskie_HEBDA\\Biostatistics\\OHT_Data.xlsx")
table(oht$Stroke_TIA_0no_1yes,oht$ONEy_Mortalityupdate)
round(prop.table(table(oht$ONEyW_Mortalityupdate,oht$Stroke_TIA_0no_1yes),1),2)
#people who had not the stroke = 25 / 97  = 0,257 = odds ratio
#people who had stroke  12/9 =  1,33 = odds ratio
# people who had stroke has a 5,17 greater chance to die
#insead those who had not within 1 year.
lrMod<-glm(oht$ONEy_Mortalityupdate~oht$Stroke_TIA_0no_1yes, )
summary(lrMod)
#AIC = it is to the measure to compare coeficenty which model is better once the predictor
#is being added
exp(coef(lrMod))
round(prop.table(table(oht$ONEyW_Mortalityupdate,oht$Stroke_TIA_0no_1yes)
#logistic regression
#odds ratos - odds they are a chances as ration of chance that A to
#have number to cases that have B
table(oht$Stroke_TIA_0no_1yes,oht$ONEy_Mortalityupdate)
library(QuantPsyc)
library(psych)
library(psych)
library(lsr)
library(fastDummies)
table(oht$Stroke_TIA_0no_1yes,oht$ONEy_Mortalityupdate)
round(prop.table(table(oht$ONEyW_Mortalityupdate,oht$Stroke_TIA_0no_1yes)
round(prop.table(table(oht$ONEyW_Mortalityupdate,oht$Stroke_TIA_0no_1yes),1),2)
lrMod<-glm(oht$ONEy_Mortalityupdate~oht$Stroke_TIA_0no_1yes)
summary(lrMod)
#AIC = it is to the measure to compare coeficenty which model is better once the predictor
#is being added
exp(coef(lrMod))
?coef
?exp
x <- ggplot(Data, aes(age, charges)) +
geom_jitter(color = "blue", alpha = 0.5) +
theme_light()
library("ggplot2", lib.loc="~/R/win-library/3.4")
x <- ggplot(Data, aes(age, charges)) +
geom_jitter(color = "blue", alpha = 0.5) +
theme_light()
rm(list = ls)
rm(list = ls())
gender<-factor(project$sex,
levels <- c("female","male"),
labels = c(0,1)) #create lables for each category
smoker<-factor(project$smoker,
levels <- c("no","yes"),
labels = c(0,1))
smoker_dummy_0_N_1_Y<-dummy_cols(project$smoker)
gender_dummy_0_F_1_M<-dummy_cols(project$sex)
summary(project)
round(prop.table(table(gender, smoker)),2)
BMIth<-cut(project$bmi, breaks = c(0, 18.5, 25, 30, 100), labels = c("underweight",
"normal weight","overweight", "obese"), right = TRUE)
library(psych)
library(fastDummies)
project <- read.csv("D:\\Studia\\Magisterskie_HEBDA\\Biostatistics\\Project biostatistics\\insurance.csv")
install.packages("psych")
library(psych)
psych::describe(project$age)
hist(project$age)
psych::describe(project$bmi)
hist(project$bmi)
psych::describe(project$charges)
hist(project$charges)
install.packages("fastDummies")# to create dummy variable
library(fastDummies)
gender<-factor(project$sex,
levels <- c("female","male"),
labels = c(0,1)) #create lables for each category
smoker<-factor(project$smoker,
levels <- c("no","yes"),
labels = c(0,1))
smoker_dummy_0_N_1_Y<-dummy_cols(project$smoker)
gender_dummy_0_F_1_M<-dummy_cols(project$sex)
summary(project)
round(prop.table(table(gender, smoker)),2)
install.packages("psych")
MIth<-cut(project$bmi, breaks = c(0, 18.5, 25, 30, 100), labels = c("underweight",
"normal weight","overweight", "obese"), right = TRUE)
sum(table(BMIth))
underweight<-subset(project$bmi, BMIth == "underweight")#ekstract the interval
#data from the data set according the name of the interval
normalweight<-subset(project$bmi, BMIth == "normal weight")
table(normalweight)
table(underweight)
mean(underweight)
table(BMIth)
# source https://www.healthaffairs.org/doi/full/10.1377/hlthaff.W4.480
#-----------------------
table(project$region)
table(region_smoker)
table(project$smoker == "yes")
cbPalette <- c("#999999", "#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
hist(underweight)
qqnorm(underweight)
qqline(underweight)#show the distribution of real quantiles vs the predicted ones
install.packages("tidyverse")
library(tidyverse) #cannot install it ?
## plot carges vs bmi with respect to BMI intervals
ggplot(data=project) +
geom_point(mapping = aes(x=bmi, y=charges, color = BMIth))
## plot charges vs age
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_point(alpha=1/5)
x <- ggplot(Data, aes(age, charges)) +
geom_jitter(color = "blue", alpha = 0.5) +
theme_light()
ggplot(data=project)+
geom_point(mapping = aes(x=BMIth == "obese", y=charges))
plot(BMIth == "obese", project$charges, na.rm = TRUE))
MIth<-cut(project$bmi, breaks = c(0, 18.5, 25, 30, 100), labels = c("underweight",
"normal weight","overweight", "obese"), right = TRUE)
sum(table(BMIth))
underweight<-subset(project$bmi, BMIth == "underweight")#ekstract the interval
#data from the data set according the name of the interval
normalweight<-subset(project$bmi, BMIth == "normal weight")
table(normalweight)
table(underweight)
mean(underweight)
table(BMIth)
# source https://www.healthaffairs.org/doi/full/10.1377/hlthaff.W4.480
#-----------------------
table(project$region)
table(region_smoker)
table(project$smoker == "yes")
cbPalette <- c("#999999", "#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
hist(underweight)
qqnorm(underweight)
qqline(underweight)#show the distribution of real quantiles vs the predicted ones
install.packages("tidyverse")
library(tidyverse) #cannot install it ?
## plot carges vs bmi with respect to BMI intervals
ggplot(data=project) +
geom_point(mapping = aes(x=bmi, y=charges, color = BMIth))
## plot charges vs age
ggplot(data=project, mapping = aes(x=age, y=charges))+
geom_point(alpha=1/5)
x <- ggplot(Data, aes(age, charges)) +
geom_jitter(color = "blue", alpha = 0.5) +
theme_light()
ggplot(data=project)+
geom_point(mapping = aes(x=BMIth == "obese", y=charges))
plot(BMIth == "obese", project$charges, na.rm = TRUE))
cbPalette <- c("#999999", "#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
hist(underweight)
qqnorm(underweight)
qqline(underweight)#show the dis
BMIth<-cut(project$bmi, breaks = c(0, 18.5, 25, 30, 100), labels = c("underweight",
"normal weight","overweight", "obese"), right = TRUE)
normalweight<-subset(project$bmi, BMIth == "normal weight")
x <- ggplot(Data, aes(age, charges)) +
geom_jitter(color = "blue", alpha = 0.5) +
theme_light()
library("ggplot2", lib.loc="~/R/win-library/3.4")
x <- ggplot(Data, aes(age, charges)) +
geom_jitter(color = "blue", alpha = 0.5) +
theme_light()
x <- ggplot(Data, aes(x=age, y=charges)) +
geom_jitter(color = "blue", alpha = 0.5) +
theme_light()
x <- ggplot(project, aes(x=age, y=charges)) +
geom_jitter(color = "blue", alpha = 0.5) +
theme_light()
x <- ggplot(project, aes(x=age, y=charges)) +
geom_jitter(color = "blue", alpha = 0.5) +
theme_light()
y <- ggplot(project, aes(x=bmi, y=charges)) +
geom_jitter(color = "green", alpha = 0.5) +
theme_light()
p <- plot_grid(x, y)
plotsageandbmi<- ggdraw() + draw_label("1. Correlation between Charges and Age / BMI", fontface='bold')
plot_grid(title, p, ncol=1, rel_heights=c(0.1, 1))
install.packages("dplyr")
library(dplyr)
install.packages("Hmisc")
library(Hmisc)
install.packages("cowplot")
library(cowplot)
install.packages("WVPlots")
library(WVPlots)
install.packages("dplyr")
install.packages("dplyr")
library("ggplot2", lib.loc="~/R/win-library/3.4")
x <- ggplot(project, aes(x=age, y=charges)) +
geom_jitter(color = "blue", alpha = 0.5) +
theme_light()
y <- ggplot(project, aes(x=bmi, y=charges)) +
geom_jitter(color = "green", alpha = 0.5) +
theme_light()
p <- plot_grid(x, y)
plotsageandbmi<- ggdraw() + draw_label("1. Correlation between Charges and Age / BMI", fontface='bold')
plot_grid(title, p, ncol=1, rel_heights=c(0.1, 1))
library("dplyr", lib.loc="~/R/win-library/3.4")
library("Hmisc", lib.loc="~/R/win-library/3.4")
install.packages("cowplot")
library(cowplot)
install.packages("WVPlots")
install.packages("WVPlots")
library(WVPlots)
library(cowplot)
library(WVPlots)
x <- ggplot(project, aes(x=age, y=charges)) +
geom_jitter(color = "blue", alpha = 0.5) +
theme_light()
y <- ggplot(project, aes(x=bmi, y=charges)) +
geom_jitter(color = "green", alpha = 0.5) +
theme_light()
p <- plot_grid(x, y)
plotsageandbmi<- ggdraw() + draw_label("1. Correlation between Charges and Age / BMI", fontface='bold')
plot_grid(title, p, ncol=1, rel_heights=c(0.1, 1))
?cowplot
updateR()
install.packages("cowplot")
install.packages("dplyr")
library(dplyr)
install.packages("Hmisc")
library(Hmisc)
install.packages("cowplot")
library(cowplot)
install.packages("WVPlots")
library(WVPlots)
library(dplyr)
library(Hmisc)
library(cowplot)
library(WVPlots)
x <- ggplot(project, aes(x=age, y=charges)) +
geom_jitter(color = "blue", alpha = 0.5) +
theme_light()
y <- ggplot(project, aes(x=bmi, y=charges)) +
geom_jitter(color = "green", alpha = 0.5) +
theme_light()
p <- plot_grid(x, y)
plotsageandbmi<- ggdraw() + draw_label("1. Correlation between Charges and Age / BMI", fontface='bold')
plot_grid(title, p, ncol=1, rel_heights=c(0.1, 1))
p <- plot_grid(x, y)
plotsageandbmi<- ggdraw() + draw_label("1. Correlation between Charges and Age / BMI", fontface='bold')
plot_grid(title, p, ncol=1, rel_heights=c(0.1, 1))
p <- plot_grid(x, y)
plotsageandbmi<- ggdraw() + draw_label("1. Correlation between Charges and Age / BMI", fontface='bold')
plot_grid(title, p, ncol=1, rel_heights=c(0.1, 1))
